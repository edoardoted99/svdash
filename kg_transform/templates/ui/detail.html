{% extends "ui/base.html" %}

{% block content %}
<div class="flex flex-col h-full">
    <!-- Header -->
    <div class="bg-slate-800 border-b border-slate-700 p-4 flex justify-between items-center shrink-0">
        <div class="flex items-center gap-4">
            <a href="{% url 'ui:history_list' %}" class="text-slate-400 hover:text-white transition-colors">
                <i class="fa-solid fa-arrow-left mr-1"></i> Back
            </a>
            <div class="h-6 w-px bg-slate-700"></div>
            <div>
                <h1 class="text-lg font-bold text-white">Transformation Detail</h1>
                <div class="text-xs text-slate-400 font-mono">{{ transformation.id }}</div>
            </div>
        </div>
        <div class="text-sm text-slate-400">
            {{ transformation.created_at|date:"Y-m-d H:i:s" }}
        </div>
    </div>

    <!-- Content (Split View like Result) -->
    <div class="flex flex-1 overflow-hidden">
        <!-- Input Info (Left) -->
        <div class="w-1/3 bg-slate-800/50 border-r border-slate-700 p-4 overflow-y-auto flex flex-col gap-6">
            <div>
                <label class="text-xs font-bold text-slate-400 uppercase mb-2 block">Prompt</label>
                <div
                    class="bg-slate-900 border border-slate-700 rounded p-3 text-sm text-slate-200 whitespace-pre-wrap">
                    {{ transformation.prompt }}</div>
            </div>

            <div>
                <label class="text-xs font-bold text-slate-400 uppercase mb-2 block">Model Used</label>
                <span class="bg-slate-900 border border-slate-700 rounded px-3 py-1 text-sm text-indigo-300">{{ transformation.model_used }}</span>
            </div>

            <div class="bg-blue-900/20 border border-blue-500/30 p-4 rounded text-sm text-blue-200">
                <i class="fa-solid fa-circle-info mr-2"></i>
                Input KG snapshot is available in database but not shown here to keep view simple.
            </div>
        </div>

        <!-- Result View (Right) -->
        <div class="w-2/3 bg-slate-900 p-4 overflow-y-auto">
            {% include "ui/partials/result.html" %}
        </div>
    </div>
</div>
{% endblock %}